# ==============================================================================
# CONFIGURAÇÕES GERAIS DE TESTE (Perfil %test)
# ==============================================================================

# 1. Banco de Dados e Hibernate
# Garante que o banco seja resetado a cada execução de teste
%test.quarkus.hibernate-orm.database.generation=drop-and-create
%test.quarkus.hibernate-orm.sql-load-script=import-test.sql
%test.quarkus.hibernate-orm.log.sql=true

# 2. Flyway (Se estiver usando, garante limpeza total)
%test.quarkus.flyway.clean-at-start=true
%test.quarkus.flyway.migrate-at-start=true

# 3. Estabilidade e Concorrência
# Desativa o agendador de tarefas para que o RegionalService não interfira nos testes
%test.quarkus.scheduler.enabled=false

# 4. Logs
# Nível de log para debug de segurança se precisar (opcional)
%test.quarkus.log.category."org.venhaserjava".level=DEBUG

# 5. JWT e Segurança (Já devem estar no seu pom ou application principal)
# Aqui garantimos que o SmallRye use as chaves de teste se necessário
# mp.jwt.verify.publickey.location=publicKey.pem

